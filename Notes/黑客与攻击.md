# 1、社会工程学

黑客入侵最常见的方式不是通过技术，而是欺骗别人，这个称为[[社会工程学]]（Social Engineering），通过欺骗别人来让人泄露秘密，或让人配置电脑系统来变得易于攻击。最常见的攻击是**网络钓鱼（Phishing）**，其次还有**假托（Pretexting）**，攻击者给某个公司打电话，假装是IT部门的人，攻击者的第一通电话一般会叫人转接，这样另一个接的时候，电话看起来就像内部的，然后让别人把电脑配置得易于入侵，或者让他们泄露机密信息，比如密码或网络配置

# 2、木马

邮件里带木马（trojan horse）也是常见手段，木马通常会伪装成无害的东西，比如照片或发票，但实际上是恶意软件，有的会偷数据，有的会加密文件

# 3、NAND镜像

如果攻击者无法用木马或电话欺骗，攻击者只能被迫使用其他手段，方法之一就是暴力破解，尝试所有可能的密码，直到进入系统，大多数现代系统会加长等待时间来抵御这种攻击。现在出现了一种攻破方法称为**NAND镜像**，如果能物理接触到电脑，可以往内存上接几根线，复制整个内存，然后暴力尝试密码，知道设备让你等待，这时只要把复制的内容覆盖掉内存，就无需等待，继续尝试密码

# 4、漏洞利用

如果无法物理接触到设备，就需要远程攻击，比如通过互联网，这一般需要攻击者利用系统漏洞，来获得某些能力或访问权限，称为**漏洞利用（Exploit）**。

# 5、缓冲区溢出

一种常见的漏洞利用叫缓冲区溢出（Buffer Overflow），这里的缓冲区是指预留的一块内存空间，比如我们在系统登录界面输入用户名和密码，而系统是用缓冲区来存储输入值的，假设缓冲区大小为10，并且缓冲区前后肯定还有其他数据，当用户输入用户名和密码时，这些值就会被复制到缓冲区中来进行验证，而该方法会溢出缓冲区，比如输入超过10个字符的密码，会覆盖掉相邻的数据，有时会让程序或系统崩溃，因为重要值被垃圾数据覆盖掉了。这里只是让系统崩溃，但是攻击者可以输入有意义的新值到程序的内存中，比如把`is_admin`标志位的值改为true，有了任意修改内存的能力，黑客就可以绕过登录这类东西，甚至使用那个程序劫持整个系统

# 6、边界检查

有许多方法阻止缓冲区溢出，最简单的方法就是复制到内存之前先检查长度，称为**边界检查（Bounds checking**），许多现代编程语言都自带边界检查，程序也会随机存放变量在内存中的位置，这样黑客就不知道应该覆盖内存的哪部分，使得更容易让程序崩溃，而不是获得访问权限。程序也可以在缓冲区后，预留一些不用的空间，然后跟踪里面的值，看是否发生变化，来判断是否有攻击，这些不用的内存空间称为金丝雀（Canaries）

# 9、代码注入

另一种经典手段是**代码注入（Code Injection）**，最常用于攻击用数据库的网站。假设网页上有登录提示，当用户点击“登录”，输入文本就会发送服务器，服务器就会运行代码，检查用户名是否存在，如果存在就看密码是否匹配。为此服务器会执行一段sql查询代码，比如

```text
SELECT password FROM users WHERE username='___';
```

这里语句就是要从`users`表中查找`username`为`___`的密码`password`。 这里的`___`就是用户输入的用户名。由此攻击者就能把[[SQL命令]]输入到用户名中，比如`whatever';DROP TABLE users;'`，这时上面的查询语句就会变成

```text
 SELECT password FROM users WHERE username='whatever';DROP TABLE users;';
```

如果服务器存在用户名`wharever`，数据库就会返回密码， 当然我们无法得知密码是什么，所以服务器会拒绝我们；如果不存在用户名`wharever`，服务器会返回空密码或者直接错误，服务器也会拒绝我们。 但是我们关心的是后面的代码`DROP TABLE users;`，这个是我们注入的命令，这个命令是删掉users这张表。如今几乎所有服务器都会防御这种手段

程序员需要认识到从外界输入的信息都是危险的，必须要好好检查，很多用户名和密码表单，不会让你直接输入特殊符号，比如分号或括号，来作为第一道防御。好的服务器也会清理输入，比如修改或删除特殊字符，然后才放到数据库查询语句中

# 7、零日漏洞

当软件制造者不知道的新漏洞被发现时，称为0day漏洞（Zero Day Vulnerability），黑客就会抢在白帽程序员做出补丁之前尽可能利用漏洞

# 8、计算机蠕虫

如果有足够多的电脑有漏洞，让恶意程序可以自动地在电脑之间互相传播，称为**蠕虫（Worm）**。如果黑客拿下大量电脑，这些电脑可以组成僵尸网络（Botnet），可以用于很多目的，比如发大量垃圾邮件等，用别人电脑的计算能力来挖比特币，或发起DDOS来攻击服务器。DDOS就是僵尸网络里的所有电脑发一大堆垃圾信息到服务器上，造成服务器的阻塞。